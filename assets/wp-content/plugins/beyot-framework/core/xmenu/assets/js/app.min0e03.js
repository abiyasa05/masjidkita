var APP_XMENU=APP_XMENU||{};(function(r){"use strict";APP_XMENU={timeOutHoverMenu:[],timeOutHoverOutMenu:[],initialize:function(){APP_XMENU.event()},event:function(){APP_XMENU.window_resize();APP_XMENU.menu_event();APP_XMENU.window_scroll();APP_XMENU.tabs_position(5);APP_XMENU.windowLoad()},windowLoad:function(){r(window).load(function(){r("header.main-header .x-nav-menu").each(function(){var e=this;r("header.main-header .x-nav-menu > li").each(function(){APP_XMENU.process_menu_position(this);APP_XMENU.process_tab_padding(this,e)})})})},window_scroll:function(){r(window).on("scroll",function(e){if(APP_XMENU.is_desktop()){r("header.main-header .x-nav-menu > li").each(function(){APP_XMENU.process_menu_position(this)})}})},window_resize:function(){r(window).resize(function(){if(APP_XMENU.is_desktop()){APP_XMENU.tabs_position(5);r("header.main-header .x-nav-menu").each(function(){var e=this;r("header.main-header .x-nav-menu > li").each(function(){APP_XMENU.process_menu_position(this);APP_XMENU.process_tab_padding(this,e)})})}})},tabs_position:function(e){r("header.main-header ul.x-nav-menu").each(function(){if(r(this).hasClass("x-nav-vmenu")){return}r(".x-sub-menu-tab",this).each(function(){var e=r("body").hasClass("rtl");var t=r(this);var i=r(this).parent().outerWidth();if(r("> li.x-menu-active",this).length==0){r("> li:first-child",this).addClass("x-menu-active")}r("> li",this).each(function(){r("> ul",this).css(e?"right":"left",i+"px")});r("> li.x-menu-active",this).each(function(){APP_XMENU.tab_position(r(this))})});if(e>0){setTimeout(function(){APP_XMENU.tabs_position(e-1)},500)}})},tab_position:function(e){var t=0;if(r("> ul",e).length!=0){t=r("> ul",e).outerHeight()}e.parent().css("min-height",t+"px")},menu_event:function(){r("header.main-header .x-sub-menu-tab > li:first-child").addClass("x-menu-active");APP_XMENU.process_menu_mobile_click();r("header.main-header .x-nav-menu").each(function(){if(r(this).hasClass("x-nav-vmenu")){return}var e=APP_XMENU.get_transition_name(this);APP_XMENU.transition_menu(this,e,this);r(".x-sub-menu-tab > li",this).hover(function(){if(!APP_XMENU.is_desktop()){return}r("> li",r(this).parent()).removeClass("x-menu-active");r(this).addClass("x-menu-active");APP_XMENU.tab_position(r(this))},function(){})})},process_menu_mobile_click:function(){r(".header-mobile-nav li.x-menu-item, header.header-left li.x-menu-item").click(function(e){if(r("> ul.x-sub-menu",this).length==0){return}if(r(e.target).closest(r("> ul.x-sub-menu",this)).length>0){return}if(r(e.target).closest(r("> a > span",this)).length>0){var t="";if(typeof e.target!="undefined"&&e.target!=null&&typeof e.target.baseURI!="undefined"&&e.target.baseURI!=null){var i=e.target.baseURI.split("#");if(i.length>0){t=i[0]}var s=r("> a.x-menu-a-text",this);if(s.length>0){var n=s.attr("href");if(n!="#"){if(typeof n!="undefined"&&n!=null){n=n.split("#")[0]}if(t!=n){return}}}}}e.preventDefault();r(this).toggleClass("x-sub-menu-open");r("> ul.x-sub-menu",this).slideToggle()})},process_tab_padding:function(e,t){if(!APP_XMENU.is_desktop()){return}if(r(t).hasClass("x-nav-vmenu")){return}var i=r(e);if(i.hasClass("x-item-menu-multi-column")){var s=r("> ul.x-sub-menu > li.x-tabs",i);if(s.length>0){r(" > ul.x-sub-menu",i).addClass("no-padding")}}r("> ul.x-sub-menu > li").each(function(){APP_XMENU.process_tab_padding(this,t)})},transition_menu:function(e,n,a){var t=r(e);if(r(a).hasClass("x-nav-vmenu")){return}r("> li.x-menu-item",t).each(function(){var t=APP_XMENU.get_transition_name(r("> ul",this));if(t==""){t=n}var i=300;if(t==""){i=200}var s=0;r(this).hover(function(){if(!APP_XMENU.is_desktop()){return}var e=r(this);s=e.prop("id");if(r(".main-menu").hasClass("x-nav-vmenu")){if(e.offset().top-jQuery(window).scrollTop()-r(window).outerHeight()/2>0){r("> ul",e).removeClass("x-drop-from-bottom").addClass("x-drop-from-bottom")}}if(typeof APP_XMENU.timeOutHoverMenu[e.prop("id")]!="undefined"){clearTimeout(APP_XMENU.timeOutHoverMenu[e.prop("id")])}APP_XMENU.timeOutHoverMenu[e.prop("id")]=setTimeout(function(){e.addClass("x-active");if(t!=""){r("> ul",e).addClass(t)}},i)},function(){if(!APP_XMENU.is_desktop()){return}var e=r(this);s=0;if(r(".main-menu").hasClass("x-nav-vmenu")){if(e.offset().top-jQuery(window).scrollTop()-r(window).outerHeight()/2>0){r("> ul",e).removeClass("x-drop-from-bottom")}}clearTimeout(APP_XMENU.timeOutHoverMenu[e.prop("id")]);APP_XMENU.timeOutHoverOutMenu[e.prop("id")]=setTimeout(function(){if(s==e.prop("id")){return}if(e.hasClass("x-active")){r("> ul",e).addClass(t+"-out");setTimeout(function(){if(t!=""){r("> ul",e).removeClass(t);r("> ul",e).removeClass(t+"-out")}r(e).removeClass("x-active")},i)}},200)});if(!r(this).hasClass("x-item-menu-multi-column")){APP_XMENU.transition_menu(r("> ul.x-sub-menu",this),n,a)}})},get_transition_name:function(e){var t="";if(r(e).hasClass("x-animate-slide-up")){t="x-slide-up"}else if(r(e).hasClass("x-animate-slide-down")){t="x-slide-down"}else if(r(e).hasClass("x-animate-slide-left")){t="x-slide-left"}else if(r(e).hasClass("x-animate-slide-right")){t="x-slide-right"}else if(r(e).hasClass("x-animate-fade-in")){t="x-fade-in"}else if(r(e).hasClass("x-animate-sign-flip")){t="x-sign-flip"}return t},process_menu_position:function(e){var t=r(e);var i=r(".x-nav-menu");var s=r(e).parent();if(t.hasClass("x-pos-left-menu-parent")){APP_XMENU.process_position_left_menu_parent(e)}else if(t.hasClass("x-pos-right-menu-parent")){APP_XMENU.process_position_right_menu_parent(e)}else if(t.hasClass("x-pos-center-menu-parent")){APP_XMENU.process_position_center_menu_parent(e)}else if(t.hasClass("x-pos-left-menu-bar")){APP_XMENU.process_position_left_menu_bar(e)}else if(t.hasClass("x-pos-right-menu-bar")){APP_XMENU.process_position_right_menu_bar(e)}else if(t.hasClass("x-pos-full")){}else{APP_XMENU.process_position_right_menu_parent(e)}},get_margin_left:function(e){var t=r(e).css("margin-left");try{t=parseInt(t.replace("px",""),10)}catch(e){t=0}return t},process_position_left_menu_parent:function(e){var t=r(e);var i=r("header.main-header .x-nav-menu");while(i.prop("tagName")!="BODY"&&i.css("position")=="static"){i=i.parent()}var s=r("> ul.x-sub-menu",t);if(s.length==0){return}s.css("left","");s.css("right","");if(i.outerWidth()<=s.outerWidth()){s.css("left","0");s.css("right","0")}else{var n=APP_XMENU.get_margin_left(e);var a=i.outerWidth()-r(e).outerWidth()-r(e).position().left-n;if(r(e).outerWidth()+r(e).position().left+n<s.outerWidth()){s.css("left","0");s.css("right","auto")}else{s.css("left","auto");s.css("right",a+"px")}}},process_position_right_menu_parent:function(e){var t=r(e);var i=r("header.main-header .x-nav-menu");while(i.prop("tagName")!="BODY"&&i.css("position")=="static"){i=i.parent()}var s=r("> ul.x-sub-menu",t);if(s.length==0){return}s.css("left","");s.css("right","");var n=APP_XMENU.get_margin_left(e);if(i.outerWidth()<=s.outerWidth()){s.css("left","0");s.css("right","0")}else{if(i.outerWidth()-r(e).position().left-n<s.outerWidth()){s.css("left","auto");s.css("right","0")}else{s.css("left",r(e).position().left+n+"px");s.css("right","auto")}}},process_position_center_menu_parent:function(e){var t=r(e);var i=r("header.main-header .x-nav-menu");while(i.prop("tagName")!="BODY"&&i.css("position")=="static"){i=i.parent()}var s=r("> ul.x-sub-menu",t);if(s.length==0){return}s.css("left","");s.css("right","");if(i.outerWidth()<=s.outerWidth()){s.css("left","0");s.css("right","0")}else{var n=APP_XMENU.get_margin_left(e);var a=(s.outerWidth()-t.outerWidth()-n)/2;if(a>r(e).position().left){s.css("left","0");s.css("right","auto")}else if(a>i.outerWidth()-r(e).outerWidth()-r(e).position().left){s.css("left","auto");s.css("right","0")}else{s.css("left",r(e).position().left-a+"px");s.css("right","auto")}}},process_position_left_menu_bar:function(e){var t=r(e);var i=r("> ul.x-sub-menu",t);i.css("left","0");i.css("right","auto")},process_position_right_menu_bar:function(e){var t=r(e);var i=r("> ul.x-sub-menu",t);i.css("left","auto");i.css("right","0")},is_desktop:function(){var e=991;var t=r("body");if(typeof t.attr("data-responsive")!="undefined"&&!isNaN(parseInt(t.attr("data-responsive"),10))){e=parseInt(t.attr("data-responsive"),10)}return window.matchMedia("(min-width: "+(e+1)+"px)").matches}};r(document).ready(function(){APP_XMENU.initialize()})})(jQuery);